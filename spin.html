<!DOCTYPE html>
<html>
<head>
<title>Spin & Win</title>
<style>
body{
margin:0;
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:radial-gradient(circle,#111,#000);
font-family:Arial;
color:white;
overflow:hidden;
}

h1{
margin-bottom:20px;
text-shadow:0 0 20px gold;
}

.wheel-box{
position:relative;
}

canvas{
border-radius:50%;
box-shadow:0 0 40px #ff00ff,0 0 80px #00ffff;
transition:transform 5s cubic-bezier(.17,.67,.83,.67);
}

.pointer{
position:absolute;
top:-30px;
left:50%;
transform:translateX(-50%);
width:0;
height:0;
border-left:20px solid transparent;
border-right:20px solid transparent;
border-bottom:40px solid gold;
filter:drop-shadow(0 0 10px gold);
}

button{
margin-top:30px;
padding:15px 40px;
font-size:18px;
border:none;
border-radius:30px;
cursor:pointer;
background:linear-gradient(45deg,#ff00cc,#3333ff);
color:white;
box-shadow:0 0 25px #ff00cc;
transition:.3s;
}

button:hover{
transform:scale(1.1);
box-shadow:0 0 40px #00ffff;
}

/* POPUP */
.popup{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.8);
display:flex;
justify-content:center;
align-items:center;
visibility:hidden;
opacity:0;
transition:.4s;
}

.popup.show{
visibility:visible;
opacity:1;
}

.popup-box{
background:#111;
padding:40px;
border-radius:20px;
text-align:center;
box-shadow:0 0 40px gold;
animation:pop .5s ease;
}

@keyframes pop{
0%{transform:scale(.5);}
100%{transform:scale(1);}
}

.popup-box h2{
margin-bottom:20px;
color:gold;
text-shadow:0 0 15px gold;
}

.close-btn{
margin-top:15px;
padding:10px 25px;
border:none;
border-radius:20px;
cursor:pointer;
background:gold;
font-weight:bold;
}
</style>
</head>
<body>

<h1>ðŸŽ° Spin & Win ðŸŽ°</h1>

<div class="wheel-box">
<div class="pointer"></div>
<canvas id="wheel" width="400" height="400"></canvas>
</div>

<button onclick="spinWheel()">SPIN</button>

<!-- POPUP -->
<div class="popup" id="popup">
<div class="popup-box">
<h2 id="resultText"></h2>
<button class="close-btn" onclick="closePopup()">OK</button>
</div>
</div>

<script>
const canvas=document.getElementById("wheel");
const ctx=canvas.getContext("2d");

const prizes=["â‚¹50","â‚¹100","Try Again","â‚¹200","â‚¹500"];
const colors=["#ff3c3c","#33ff57","#3399ff","#ffcc00","#cc33ff"];
const segments=prizes.length;
const angle=(2*Math.PI)/segments;

function drawWheel(){
for(let i=0;i<segments;i++){
ctx.beginPath();
ctx.moveTo(200,200);
ctx.arc(200,200,200,i*angle,(i+1)*angle);
ctx.fillStyle=colors[i];
ctx.fill();
ctx.save();
ctx.translate(200,200);
ctx.rotate(i*angle+angle/2);
ctx.fillStyle="#fff";
ctx.font="bold 18px Arial";
ctx.fillText(prizes[i],80,10);
ctx.restore();
}
}
drawWheel();

let currentRotation=0;
let spinning=false;

function spinWheel(){
if(spinning) return;
spinning=true;

const randomIndex=Math.floor(Math.random()*segments);
const degreesPerSegment=360/segments;
const stopAngle=360-(randomIndex*degreesPerSegment)-(degreesPerSegment/2);
const spinAngle=360*6+stopAngle;

currentRotation+=spinAngle;
canvas.style.transform=`rotate(${currentRotation}deg)`;

/* SPIN SOUND */
const spinSound=new Audio("https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3");
spinSound.loop=true;
spinSound.play();

setTimeout(()=>{
spinSound.pause();

/* WIN SOUND */
const winSound=new Audio("https://assets.mixkit.co/active_storage/sfx/1998/1998-preview.mp3");
winSound.play();

document.getElementById("resultText").innerText=
"ðŸŽ‰ Congratulations!\nYou Won: "+prizes[randomIndex];

document.getElementById("popup").classList.add("show");

spinning=false;
},5000);
}

function closePopup(){
document.getElementById("popup").classList.remove("show");
}
</script>

</body>
</html>
